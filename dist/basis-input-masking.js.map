{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8c0e9cefe2c8591403d3","webpack:///external {\"commonjs\":\"bbj-masks/src/StringMask\",\"commonjs2\":\"bbj-masks/src/StringMask\",\"amd\":\"bbj-masks/src/StringMask\",\"root\":[\"BBj\",\"Masks\",\"StringMask\"]}","webpack:///./src/index.js","webpack:///./src/TextInput/index.js","webpack:///./src/TextInput/TextInput.js","webpack:///./src/TextInput/tools.js","webpack:///./src/NumberInput/index.js","webpack:///./src/NumberInput/NumberInput.js","webpack:///external {\"commonjs\":\"bbj-masks/src/NumberMask\",\"commonjs2\":\"bbj-masks/src/NumberMask\",\"amd\":\"bbj-masks/src/NumberMask\",\"root\":[\"BBj\",\"Masks\",\"NumberMask\"]}"],"names":["TextInput","options","elements","doc","document","cssClassError","cssClassSuccess","onUpdate","onInvalid","_onKeystroke","bind","_onFocus","refresh","querySelectorAll","input","parentClass","i","length","HTMLInputElement","parentNode","getAttribute","console","warn","isWrapped","indexOf","_wrap","parent","_unwrap","inputId","inputName","mask","dataset","originalPattern","pattern","defaultPattern","generatePatternFromMask","wrap","unmaskInput","createElement","querySelector","value","maskIfNotMasked","classList","add","valueUnmasked","unmask","isCustomPattern","hasAttribute","addEventListener","insertBefore","_validateInput","__fireOnUpdate","setAttribute","appendChild","textInput","removeChild","removeEventListener","removeAttribute","remove","e","ctrlKey","shiftKey","altKey","metaKey","keyCode","preventDefault","target","eventType","type","setCustomValidity","key","insertPosition","findCaretPosition","newValue","unmaskedValue","maskError","clipboardData","window","getData","selectionStart","substr","StringMask","__applyCssClassState","error","__fireOnInvalid","_updateCaretPosition","setTimeout","position","setSelectionRange","isValid","checkValidity","validationMessage","valueMasked","state","SUPPORTED_MASKS","IS_UNICODE_PROPERTY_SUPPORTED","eval","err","isMaskedValue","__CACHE__","cacheKey","maskAsArry","split","regex","forEach","c","replace","maskedValue","maskAsArray","maskedValueAsArray","unmasked","index","el","elHasMask","RegExp","test","toLocaleLowerCase","concat","Array","join","NumberInput","countDecimals","toString","_actualInputHandler","_unmaskedInputHandler","actualInput","actualInputId","actualInputName","actualInputStep","step","actualInputMax","max","actualInputMin","min","actualInputGroupingSeparator","groupingSeparator","actualInputDecimalSeparator","decimalSeparator","actualInputForceTrailingZeros","forceTrailingZeros","actualInputMask","actualInputClasses","actualInputRequired","unmaskedInput","NumberMask","trim","decimals","isNaN","Number","id","focus","String","restore","apply"],"mappings":"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","file":"basis-input-masking.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"bbj-masks/src/StringMask\"), require(\"bbj-masks/src/NumberMask\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"bbj-masks/src/StringMask\", \"bbj-masks/src/NumberMask\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"InputMasking\"] = factory(require(\"bbj-masks/src/StringMask\"), require(\"bbj-masks/src/NumberMask\"));\n\telse\n\t\troot[\"Basis\"] = root[\"Basis\"] || {}, root[\"Basis\"][\"InputMasking\"] = factory(root[\"BBj\"][\"Masks\"][\"StringMask\"], root[\"BBj\"][\"Masks\"][\"NumberMask\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8c0e9cefe2c8591403d3","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"bbj-masks/src/StringMask\",\"commonjs2\":\"bbj-masks/src/StringMask\",\"amd\":\"bbj-masks/src/StringMask\",\"root\":[\"BBj\",\"Masks\",\"StringMask\"]}\n// module id = 0\n// module chunks = 0 1","/*\r\n * This file is part of basis-input-masking lib.\r\n * (c) Basis Europe <eu@basis.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nimport TextInput from './TextInput'\r\nimport NumberInput from './NumberInput'\r\n\r\nexport { TextInput , NumberInput}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*\r\n * This file is part of basis-input-masking lib.\r\n * (c) Basis Europe <eu@basis.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nimport TextInput from './TextInput'\r\n\r\nexport default TextInput\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TextInput/index.js","/*\r\n * This file is part of basis-input-masking lib.\r\n * (c) Basis Europe <eu@basis.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nimport StringMask from 'bbj-masks/src/StringMask'\r\nimport {\r\n  maskIfNotMasked,\r\n  unmask,\r\n  findCaretPosition,\r\n  generatePatternFromMask,\r\n} from './tools.js'\r\n\r\n/**\r\n * The `TextInput` will wrap text inputs and apply the given [bbj string mask](https://github.com/BasisHub/bbj-masks#string-masks)\r\n *\r\n * **Options**\r\n *\r\n * _Options can be passed via data attributes . For data attributes, append the option name to data-, as in data-mask_\r\n *\r\n * | Option    | Default | Description                                                                                             |\r\n * |-----------|---------|---------------------------------------------------------------------------------------------------------|\r\n * | mask |         | The bbj string mask @see [BBj String Masks](https://github.com/BasisHub/bbj-masks#string-masks) |\r\n *\r\n *  <br>\r\n *\r\n * **Example :**\r\n * ```html\r\n *  <input class=\"bbj-text-masked\" name=\"test\" id=\"test\" value=\"ed23\" data-mask=\"AA-00\">\r\n *\r\n *  <script>\r\n *    document.addEventListener('DOMContentLoaded', function (e) {\r\n *      new Basis.InputMasking.TextInput({\r\n *         onUpdate: (maskedValue , rawValue , input) => {\r\n *            // do something\r\n *         },\r\n *         onInvalid: (err , input) => {\r\n *            // do something\r\n *         }\r\n *      })\r\n *    })\r\n *  </script>\r\n * ```\r\n *\r\n * @author Hyyan Abo Fakher <habofakher@basis.com>\r\n */\r\nclass TextInput {\r\n  /**\r\n   * Construct new TextInput\r\n   *\r\n   * @param {?Object} options - The input options.\r\n   * @param {HTMLElement|String} [options.elements=\".bbj-text-masked\"] - The class name or the node to use\r\n   * @param {HTMLDocument} [options.document=document] - Document instance to use\r\n   * @param {String} [options.cssClassError=\"bbj-mask-error\"] - A css class to attach to the input when it is invalid\r\n   * @param {String} [options.cssClassSuccess=\"bbj-mask-success\"] - A css class to attach to the input when it is valid after the user interaction\r\n   * @param {Function} [options.onUpdate=null] - A callback to be called on the new masked value is set\r\n   * @param {Function} [options.onInvalid=null] - A callback to be called on the input or the mask is invalid\r\n   */\r\n  constructor(options = {}) {\r\n    this.options = {\r\n      ...{\r\n        elements: '.bbj-text-masked',\r\n        doc: document,\r\n        cssClassError: 'bbj-mask-error',\r\n        cssClassSuccess: 'bbj-mask-success',\r\n        onUpdate: null,\r\n        onInvalid: null,\r\n      },\r\n      ...options,\r\n    }\r\n    this._onKeystroke = this._onKeystroke.bind(this)\r\n    this._onFocus = this._onFocus.bind(this)\r\n    this.refresh()\r\n  }\r\n\r\n  /**\r\n   * Initialize the component and wrap the input elements for masking in case\r\n   * they are not wrapped yet\r\n   */\r\n  refresh() {\r\n    const elements =\r\n      typeof this.options.elements === 'string'\r\n        ? this.options.doc.querySelectorAll(this.options.elements)\r\n        : this.options.elements\r\n    let input, parentClass\r\n\r\n    for (let i = 0; i < elements.length; i++) {\r\n      input = elements[i]\r\n      if (input instanceof HTMLInputElement) {\r\n        parentClass = input.parentNode.getAttribute('class')\r\n\r\n        if (!input.getAttribute('id')) {\r\n          console.warn(\r\n            `BBjMasking: Input has no ID. Without an ID the input cannot be masked`,\r\n            input\r\n          )\r\n          continue\r\n        }\r\n\r\n        // we don't initialize the input's wrap twice\r\n        const isWrapped =\r\n          parentClass && parentClass.indexOf('textInputMask__wrap') > -1\r\n        this._wrap(input, isWrapped)\r\n      } else {\r\n        console.warn(\r\n          `BBjMasking: Invalid input element. The element will be ignored`,\r\n          input\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Unwrap the input elements and remove attached listeners\r\n   */\r\n  destroy() {\r\n    const elements =\r\n      typeof this.options.elements === 'string'\r\n        ? this.options.doc.querySelectorAll(this.options.elements)\r\n        : this.options.elements\r\n\r\n    let input, parent, parentClass\r\n\r\n    for (let i = 0; i < elements.length; i++) {\r\n      input = elements[i]\r\n      parent = input.parentNode\r\n      parentClass = parent.getAttribute('class')\r\n\r\n      if (parentClass && parentClass.indexOf('textInputMask__wrap') > -1) {\r\n        this._unwrap(parent)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create the text masking input wrapper\r\n   *\r\n   * @param {HTMLInputElement} input the input element\r\n   * @param {Boolean} isWrapped when true the input is already wrapped and we need to add what is\r\n   *                            missing only\r\n   *\r\n   * @returns {HTMLSpanElement} the wrap element\r\n   *\r\n   * @protected\r\n   */\r\n  _wrap(input, isWrapped) {\r\n    const inputId = input.getAttribute('id'),\r\n      inputName = input.getAttribute('name'),\r\n      mask = input.dataset.mask || '',\r\n      originalPattern = input.pattern,\r\n      defaultPattern = generatePatternFromMask(mask),\r\n      pattern = originalPattern || defaultPattern\r\n\r\n    let wrap = null,\r\n      unmaskInput = null\r\n\r\n    if (!isWrapped) {\r\n      wrap = this.options.doc.createElement('span')\r\n      unmaskInput = this.options.doc.createElement('input') // hidden input with the unmasked values for forms\r\n    } else {\r\n      wrap = input.parentNode\r\n      unmaskInput = wrap.querySelector('.textInputMask__unmaskedInput')\r\n    }\r\n\r\n    // configure the actual input\r\n    // -----------------------------------------------------\r\n    input.value = maskIfNotMasked(input.value, mask)\r\n    input.pattern = pattern\r\n    input.classList.add('textInputMask__textInput')\r\n    input.dataset.mask = mask\r\n    input.dataset.valueUnmasked = unmask(input.value, mask)\r\n    if (originalPattern && originalPattern !== defaultPattern) {\r\n      input.dataset.isCustomPattern = true\r\n    }\r\n\r\n    if (!isWrapped) {\r\n      if (!(input.hasAttribute('readonly') || input.hasAttribute('disable'))) {\r\n        input.addEventListener('keyup', this._onKeystroke)\r\n        input.addEventListener('keypress', this._onKeystroke)\r\n        input.addEventListener('paste', this._onKeystroke)\r\n        input.addEventListener('focusin', this._onFocus)\r\n        input.addEventListener('click', this._onFocus)\r\n      }\r\n      input.parentNode.insertBefore(wrap, input) // move the input outside the wrapper\r\n    }\r\n\r\n    if (this._validateInput(input)) {\r\n      this.__fireOnUpdate(input.value, input.dataset.valueUnmasked, input)\r\n    }\r\n\r\n    // configure the unmasked input\r\n    // ----------------------------------------------------\r\n    unmaskInput.setAttribute('aria-hidden', 'true')\r\n    unmaskInput.setAttribute('type', 'hidden')\r\n    unmaskInput.classList.add('textInputMask__unmaskedInput')\r\n    unmaskInput.value = input.dataset.valueUnmasked\r\n    if (inputId) unmaskInput.setAttribute('id', `${inputId}-unmasked`)\r\n    if (inputName) unmaskInput.setAttribute('name', `${inputName}-unmasked`)\r\n\r\n    if (!isWrapped) {\r\n      // configure the wrapper\r\n      wrap.setAttribute('class', 'textInputMask__wrap')\r\n      wrap.appendChild(unmaskInput)\r\n      wrap.appendChild(input)\r\n    }\r\n\r\n    return wrap\r\n  }\r\n\r\n  /**\r\n   * Unwrap the masked input and remove the value changed listener\r\n   *\r\n   * @param {HTMLSpanElement} textInput the wrapper span instance\r\n   *\r\n   * @protected\r\n   */\r\n  _unwrap(textInput) {\r\n    textInput.removeChild(\r\n      textInput.querySelector('.textInputMask__unmaskedInput')\r\n    )\r\n\r\n    const input = textInput.querySelector('.textInputMask__textInput')\r\n    input.removeEventListener('keyup', this._onKeystroke)\r\n    input.removeEventListener('keypress', this._onKeystroke)\r\n    input.removeEventListener('paste', this._onKeystroke)\r\n    input.removeEventListener('focusin', this._onFocus)\r\n    input.removeEventListener('click', this._onFocus)\r\n    delete input.dataset.valueUnmasked\r\n    if (!input.dataset.isCustomPattern) {\r\n      input.removeAttribute('pattern')\r\n      delete input.dataset.isCustomPattern\r\n    }\r\n\r\n    input.classList.remove(this.options.cssClassError)\r\n\r\n    textInput.parentNode.insertBefore(input, textInput)\r\n    textInput.parentNode.removeChild(textInput)\r\n  }\r\n\r\n  /**\r\n   * Listen to every keystroke on the input and update the masked and the unmasked value\r\n   *\r\n   * @param {Event} e\r\n   *\r\n   * @protected\r\n   */\r\n  _onKeystroke(e) {\r\n    if (e.ctrlKey || e.shiftKey || e.altKey || e.metaKey) return\r\n    if(e.keyCode !== 13) e.preventDefault()\r\n    \r\n    const input = e.target,\r\n      mask = input.dataset.mask || this.options.mask,\r\n      eventType = e.type\r\n\r\n    input.classList.remove(this.options.cssClassError)\r\n    input.classList.remove(this.options.cssClassSuccess)\r\n    input.setCustomValidity('');\r\n\r\n    let value = input.value,\r\n      keyCode = e.keyCode,\r\n      key = e.key ? (e.key.length > 1 ? '' : e.key) : '',\r\n      insertPosition = findCaretPosition(value, mask),\r\n      newValue,\r\n      unmaskedValue,\r\n      maskError = false\r\n\r\n    switch (eventType) {\r\n      case 'paste':\r\n        newValue = maskIfNotMasked(\r\n          (e.clipboardData || window.clipboardData).getData('Text'),\r\n          mask\r\n        )\r\n        break\r\n      case 'keyup':\r\n        newValue = value\r\n        break\r\n      case 'keypress':\r\n        const selectionStart = input.selectionStart\r\n        if (selectionStart !== insertPosition) insertPosition = selectionStart\r\n\r\n        newValue =\r\n          value.substr(0, insertPosition) + key + value.substr(insertPosition)\r\n        break\r\n      default:\r\n        break\r\n    }\r\n\r\n    unmaskedValue = unmask(newValue, mask)\r\n\r\n    if ([35, 36, 37, 38, 39, 40].indexOf(keyCode) === -1) {\r\n      try {\r\n        input.value = StringMask.mask(unmaskedValue, mask, false)\r\n        if(this._validateInput(input)) {\r\n          input.dataset.valueUnmasked = unmaskedValue\r\n          this.options.doc.querySelector(\r\n            `#${input.getAttribute('id')}-unmasked`\r\n          ).value = unmaskedValue\r\n          this.__applyCssClassState(input, 'success')\r\n          this.__fireOnUpdate(input.value, input.dataset.valueUnmasked, input)\r\n        }\r\n        maskError = false\r\n      } catch (error) {\r\n        this.__applyCssClassState(input, 'error')\r\n        this.__fireOnInvalid(error, input)\r\n        maskError = true\r\n      }\r\n\r\n      this._updateCaretPosition(input, mask)\r\n    }\r\n\r\n    if (!maskError) this._validateInput(input)\r\n  }\r\n\r\n  /**\r\n   * Listen to focus events on the input and update the caret position\r\n   * where the next char should be inserted according to the mask\r\n   *\r\n   * @param {FocusEvent} e\r\n   *\r\n   * @protected\r\n   */\r\n  _onFocus(e) {\r\n    const input = e.target\r\n    const mask = input.dataset.mask || this.options.mask\r\n    this._updateCaretPosition(input, mask)\r\n  }\r\n\r\n  /**\r\n   * Update the caret position on the input based on the given mask\r\n   *\r\n   * @param {HTMLInputElement} input instance\r\n   * @param {String} mask  bbj string\r\n   *\r\n   * @protected\r\n   */\r\n  _updateCaretPosition(input, mask) {\r\n    setTimeout(() => {\r\n      const position = findCaretPosition(input.value, mask)\r\n      input.setSelectionRange(position, position)\r\n    }, 0)\r\n  }\r\n\r\n  /**\r\n   * Trigger `checkValidity` on the input\r\n   *\r\n   * @param {HTMLInputElement} input\r\n   *\r\n   * @returns {Boolean} true when valid , false otherwise\r\n   *\r\n   * @protected\r\n   */\r\n  _validateInput(input) {\r\n    const isValid = input.checkValidity()\r\n\r\n    if (isValid) {\r\n      this.__applyCssClassState(input, 'success')\r\n      input.setCustomValidity('')\r\n    } else {\r\n      this.__applyCssClassState(input, 'error')\r\n      this.__fireOnInvalid(input.validationMessage, input)\r\n    }\r\n\r\n    return isValid\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  __fireOnUpdate(valueMasked, valueUnmasked, input) {\r\n    if (this.options.onUpdate) {\r\n      this.options.onUpdate(valueMasked, valueUnmasked, input)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  __fireOnInvalid(error, input) {\r\n    if (this.options.onInvalid) {\r\n      this.options.onInvalid(error, input)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  __applyCssClassState(input, state) {\r\n    if (input.hasAttribute('readonly') || input.hasAttribute('disabled')) {\r\n      input.classList.remove(this.options.cssClassError)\r\n      input.classList.remove(this.options.cssClassSuccess)\r\n    } else {\r\n      if (state === 'success') {\r\n        input.classList.remove(this.options.cssClassError)\r\n        input.classList.add(this.options.cssClassSuccess)\r\n      }\r\n\r\n      if (state === 'error') {\r\n        input.classList.add(this.options.cssClassError)\r\n        input.classList.remove(this.options.cssClassSuccess)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default TextInput\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TextInput/TextInput.js","/*\r\n * This file is part of basis-input-masking lib.\r\n * (c) Basis Europe <eu@basis.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nimport StringMask from 'bbj-masks/src/StringMask'\r\n\r\nconst SUPPORTED_MASKS = ['X', 'a', 'A', '0', 'z', 'Z', 'U']\r\n/**\r\n * When true , then the browser supports Unicode Property Escapes\r\n * otherwise it is false \r\n * \r\n * {@link https://github.com/tc39/proposal-regexp-unicode-property-escapes}\r\n */\r\nlet IS_UNICODE_PROPERTY_SUPPORTED = false\r\ntry {\r\n  eval('/\\\\p{L}/u')\r\n  IS_UNICODE_PROPERTY_SUPPORTED = true\r\n} catch (err) {\r\n  IS_UNICODE_PROPERTY_SUPPORTED = false\r\n}\r\n\r\n/**\r\n * Check if the given value is masked with the given mask or not\r\n *\r\n * @param {String} value masked or unmasked value\r\n * @param {String} mask  a bbj mask\r\n *\r\n * @return {Boolean} true when the value is masked with given mask , false otherwise\r\n */\r\nconst isMaskedValue = (value, mask) => {\r\n  if (typeof isMaskedValue.__CACHE__ === 'undefined') {\r\n    isMaskedValue.__CACHE__ = {}\r\n  }\r\n\r\n  const cacheKey = `${value}-${mask}`\r\n\r\n  if (!isMaskedValue.__CACHE__[cacheKey]) {\r\n    const unmaskedValue = unmask(value, mask)\r\n    isMaskedValue.__CACHE__[cacheKey] =\r\n      value === StringMask.mask(unmaskedValue, mask)\r\n  }\r\n\r\n  return isMaskedValue.__CACHE__[cacheKey]\r\n}\r\n\r\n/**\r\n * Mask the given value with the given mask in case the value is not already masked with the\r\n * given mask\r\n *\r\n * @param {String} value masked or unmasked value\r\n * @param {String} mask  a bbj mask\r\n *\r\n * @return {String} a masked value\r\n */\r\nconst maskIfNotMasked = (value, mask) => {\r\n  if (typeof maskIfNotMasked.__CACHE__ === 'undefined') {\r\n    maskIfNotMasked.__CACHE__ = {}\r\n  }\r\n\r\n  const cacheKey = `${value}-${mask}`\r\n\r\n  if (!maskIfNotMasked.__CACHE__[cacheKey]) {\r\n    if (isMaskedValue(value, mask)) {\r\n      maskIfNotMasked.__CACHE__[cacheKey] = value\r\n    } else {\r\n      try {\r\n        maskIfNotMasked.__CACHE__[cacheKey] = StringMask.mask(\r\n          value,\r\n          mask,\r\n          false\r\n        )\r\n      } catch (e) {\r\n        maskIfNotMasked.__CACHE__[cacheKey] = StringMask.mask('', mask)\r\n      }\r\n    }\r\n  }\r\n\r\n  return maskIfNotMasked.__CACHE__[cacheKey]\r\n}\r\n\r\n/**\r\n * Generate a regex patter based on the give task\r\n *\r\n * @param {String} mask  bbj string mask\r\n *\r\n * @return {String} regex for the give mask\r\n */\r\nconst generatePatternFromMask = mask => {\r\n  if (typeof generatePatternFromMask.__CACHE__ === 'undefined') {\r\n    generatePatternFromMask.__CACHE__ = {}\r\n  }\r\n\r\n  const cacheKey = mask\r\n\r\n  if (!generatePatternFromMask.__CACHE__[cacheKey]) {\r\n    const maskAsArry = mask.split('')\r\n    let regex = ''\r\n    maskAsArry.forEach(c => {\r\n      switch (c) {\r\n        case 'X':\r\n          regex += '([^ -~])'\r\n          break\r\n        case 'a':\r\n        case 'A':\r\n          // https://mothereff.in/regexpu#input=var+regex+%3D+/%5Cp%7BL%7D/u%3B&unicodePropertyEscape=1\r\n          // https://stackoverflow.com/questions/150033/regular-expression-to-match-non-ascii-characters#answer-48902765\r\n          regex += IS_UNICODE_PROPERTY_SUPPORTED\r\n            ? '\\\\p{L}'\r\n            : '((?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEF\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7C6\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB67\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDD00-\\uDD23\\uDF00-\\uDF1C\\uDF27\\uDF30-\\uDF45\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD44\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC5F\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDEB8\\uDF00-\\uDF1A]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCDF\\uDCFF\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDEE0-\\uDEF2]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE7F\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD4E\\uDEC0-\\uDEEB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43\\uDD4B]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]))'\r\n          break\r\n        case '0':\r\n          regex += '([0-9])'\r\n          break\r\n        case 'z':\r\n        case 'Z':\r\n          regex += IS_UNICODE_PROPERTY_SUPPORTED\r\n            ? '([0-9]|\\\\p{L})'\r\n            : '([0-9]|(?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEF\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7C6\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB67\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDD00-\\uDD23\\uDF00-\\uDF1C\\uDF27\\uDF30-\\uDF45\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD44\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC5F\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDEB8\\uDF00-\\uDF1A]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCDF\\uDCFF\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDEE0-\\uDEF2]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE7F\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD4E\\uDEC0-\\uDEEB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43\\uDD4B]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]))'\r\n          break\r\n        case 'U':\r\n          regex += IS_UNICODE_PROPERTY_SUPPORTED\r\n            ? '(([0-9])|(\\\\s)|([.,/#!$%^&*;:{}=-_`~()])|(\\\\p{L}))'\r\n            : '(([0-9])|(\\\\s)|([.,/#!$%^&*;:{}=-_`~()])|(?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEF\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7C6\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB67\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDD00-\\uDD23\\uDF00-\\uDF1C\\uDF27\\uDF30-\\uDF45\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD44\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC5F\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDEB8\\uDF00-\\uDF1A]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCDF\\uDCFF\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDEE0-\\uDEF2]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE7F\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD4E\\uDEC0-\\uDEEB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43\\uDD4B]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]))'\r\n          break\r\n        default:\r\n          regex += c.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\r\n          break\r\n      }\r\n    })\r\n\r\n    generatePatternFromMask.__CACHE__[cacheKey] = regex\r\n  }\r\n\r\n  return generatePatternFromMask.__CACHE__[cacheKey]\r\n}\r\n\r\n/**\r\n * Unmask the given value\r\n *\r\n * @param {String} maskedValue masked string\r\n * @param {String} mask  the used mask to produce the masked string\r\n */\r\nconst unmask = (maskedValue, mask) => {\r\n  if (typeof unmask.__CACHE__ === 'undefined') {\r\n    unmask.__CACHE__ = {}\r\n  }\r\n\r\n  const cacheKey = `${maskedValue}-${mask}`\r\n\r\n  if (!unmask.__CACHE__[cacheKey]) {\r\n    const maskAsArray = mask.split('')\r\n    const maskedValueAsArray = maskedValue.split('')\r\n\r\n    let unmasked = ''\r\n\r\n    for (let index = 0; index < maskedValueAsArray.length; index++) {\r\n      const el = maskedValueAsArray[index]\r\n      const mask = maskAsArray[index]\r\n      const elHasMask = SUPPORTED_MASKS.indexOf(mask) > -1\r\n      if (elHasMask) {\r\n        const pattern = new RegExp(\r\n          generatePatternFromMask(mask),\r\n          IS_UNICODE_PROPERTY_SUPPORTED ? 'u' : ''\r\n        )\r\n        if (pattern.test(el)) unmasked += el\r\n        else break\r\n      }\r\n    }\r\n\r\n    unmask.__CACHE__[cacheKey] = unmasked.toLocaleLowerCase()\r\n  }\r\n\r\n  return unmask.__CACHE__[cacheKey]\r\n}\r\n\r\n/**\r\n * Given the masked string , find the next caret position depending on\r\n * what is missing to complete the mask\r\n *\r\n * @param {String} maskedValue masked string\r\n * @param {String} mask  the used mask to produce the masked string\r\n */\r\nconst findCaretPosition = (maskedValue, mask) => {\r\n  if (typeof findCaretPosition.__CACHE__ === 'undefined') {\r\n    findCaretPosition.__CACHE__ = {}\r\n  }\r\n\r\n  const cacheKey = `${maskedValue}-${mask}`\r\n  if (!findCaretPosition.__CACHE__[cacheKey]) {\r\n    const maskAsArray = mask.split('')\r\n    let maskedValueAsArray = maskedValue.split('')\r\n    if (maskedValueAsArray.length < maskAsArray.length) {\r\n      maskedValueAsArray = maskedValueAsArray.concat(\r\n        new Array(maskAsArray.length - maskedValueAsArray.length).join(' ').split('')\r\n      )\r\n    }\r\n\r\n    let position = -1\r\n    for (let index = 0; index < maskAsArray.length; index++) {\r\n      const el = maskAsArray[index]\r\n      if (el !== maskedValueAsArray[index]) {\r\n        // if (maskedValueAsArray[index] === ' ') return index\r\n        if (SUPPORTED_MASKS.indexOf(el) > -1) {\r\n          const pattern = new RegExp(\r\n            generatePatternFromMask(el),\r\n            IS_UNICODE_PROPERTY_SUPPORTED ? 'u' : ''\r\n          )\r\n\r\n          if (!pattern.test(maskedValueAsArray[index])) {\r\n            position = index\r\n            break\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    findCaretPosition.__CACHE__[cacheKey] =\r\n      position < 0 ? maskedValueAsArray.length : position\r\n  }\r\n\r\n  return findCaretPosition.__CACHE__[cacheKey]\r\n}\r\n\r\nexport {\r\n  isMaskedValue,\r\n  maskIfNotMasked,\r\n  unmask,\r\n  findCaretPosition,\r\n  generatePatternFromMask,\r\n  IS_UNICODE_PROPERTY_SUPPORTED,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TextInput/tools.js","/*\r\n * This file is part of basis-input-masking lib.\r\n * (c) Basis Europe <eu@basis.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nimport NumberInput from './NumberInput'\r\n\r\nexport default NumberInput\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/NumberInput/index.js","/*\r\n * This file is part of basis-input-masking lib.\r\n * (c) Basis Europe <eu@basis.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nimport NumberMask from 'bbj-masks/src/NumberMask'\r\n\r\nconst countDecimals = value => {\r\n  if (value % 1 != 0) {\r\n    const split = value.toString().split('.')\r\n    if (split.length === 2) return split[1].length\r\n  }\r\n  return 0\r\n}\r\n\r\n/**\r\n * The `NumberInput` will wrap text inputs and apply the given [bbj Number mask](https://github.com/BasisHub/bbj-masks#number-masks)\r\n *\r\n * **Options**\r\n *\r\n * _Options can be passed via data attributes . For data attributes, append the option name to data-, as in data-mask_\r\n *\r\n * | Option    | Default | Description                                                                                             |\r\n * |-----------|---------|---------------------------------------------------------------------------------------------------------|\r\n * | mask |         | The bbj number mask @see [BBj Number Masks](https://github.com/BasisHub/bbj-masks#number-masks) |\r\n * | min |         | The maximum value to accept for this input|\r\n * | max |         | The minimum value to accept for this input|\r\n * | step |         | A stepping interval to use when using up and down arrows to adjust the value, as well as for validation|\r\n * |grouping-separator | , | a char which will be used as a grouping separator |\r\n * |decimal-separator | . | a char which will be used as a decimal separator |\r\n * |force-trailing-zeros | false | Affects the output by switching the way a mask with \"#\" characters in the trailing positions is filled. for example, the function NumberMask.mask(.10:\"#.##\") returns .10 instead of .1|\r\n *\r\n *  <br>\r\n *\r\n * **Example :**\r\n * ```html\r\n *  <input class=\"bbj-number-masked\" name=\"test\" id=\"test\" value=\"1234\" data-mask=\"##,##0\">\r\n *\r\n *  <script>\r\n *    document.addEventListener('DOMContentLoaded', function (e) {\r\n *      new Basis.InputMasking.NumberInput({\r\n *\r\n *         // @param {String} valueMasked  masked value\r\n *         // @param {Number} valueUnmasked  original value\r\n *         // @param {HTMLInputElement} input the actual input instance\r\n *         onUpdate: (valueMasked, valueUnmasked, input, isApplied, isInitial) => {\r\n *            // do something\r\n *         },\r\n *\r\n *         // @param {String|Object} error last occurred error. could be mask error or validation error\r\n *         // @param {HTMLInputElement} input the actual input instance\r\n *         onInvalid: (err , input) => {\r\n *            // do something\r\n *         }\r\n *      })\r\n *    })\r\n *  </script>\r\n * ```\r\n *\r\n * @author Hyyan Abo Fakher <habofakher@basis.com>\r\n */\r\nclass NumberInput {\r\n  /**\r\n   * Construct new NumberInput\r\n   *\r\n   * @param {?Object} options - The input options.\r\n   * @param {HTMLElement|String} [options.elements=\".bbj-number-masked\"] - The class name or the node to use\r\n   * @param {HTMLDocument} [options.document=document] - Document instance to use\r\n   * @param {String} [options.cssClassError=\"bbj-mask-error\"] - A css class to attach to the input when it is invalid\r\n   * @param {String} [options.cssClassSuccess=\"bbj-mask-success\"] - A css class to attach to the input when it is valid after the user interaction\r\n   * @param {Function} [options.onUpdate=null] - A callback to be called on the new masked value is set\r\n   * @param {Function} [options.onInvalid=null] - A callback to be called on the input or the mask is invalid\r\n   */\r\n  constructor(options = {}) {\r\n    this.options = {\r\n      ...{\r\n        elements: '.bbj-number-masked',\r\n        doc: document,\r\n        cssClassError: 'bbj-mask-error',\r\n        cssClassSuccess: 'bbj-mask-success',\r\n        onUpdate: null,\r\n        onInvalid: null,\r\n      },\r\n      ...options,\r\n    }\r\n\r\n    this._actualInputHandler = this._actualInputHandler.bind(this)\r\n    this._unmaskedInputHandler = this._unmaskedInputHandler.bind(this)\r\n    this.refresh()\r\n  }\r\n\r\n  /**\r\n   * Initialize the component and wrap the input elements for masking in case\r\n   * they are not wrapped yet\r\n   */\r\n  refresh() {\r\n    const elements =\r\n      typeof this.options.elements === 'string'\r\n        ? this.options.doc.querySelectorAll(this.options.elements)\r\n        : this.options.elements\r\n    let input, parentClass\r\n\r\n    for (let i = 0; i < elements.length; i++) {\r\n      input = elements[i]\r\n      if (input instanceof HTMLInputElement) {\r\n        parentClass = input.parentNode.getAttribute('class')\r\n\r\n        if (!input.getAttribute('id')) {\r\n          console.warn(\r\n            `BBjMasking: Input has no ID. Without an ID the input cannot be masked`,\r\n            input\r\n          )\r\n          continue\r\n        }\r\n\r\n        // we don't initialize the input's wrap twice\r\n        const isWrapped =\r\n          parentClass && parentClass.indexOf('numberInputMask__wrap') > -1\r\n        this._wrap(input, isWrapped)\r\n      } else {\r\n        console.warn(\r\n          `BBjMasking: Invalid input element. The element will be ignored`,\r\n          input\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Unwrap the input elements and remove attached listeners\r\n   */\r\n  destroy() {\r\n    const elements =\r\n      typeof this.options.elements === 'string'\r\n        ? this.options.doc.querySelectorAll(this.options.elements)\r\n        : this.options.elements\r\n\r\n    let input, parent, parentClass\r\n\r\n    for (let i = 0; i < elements.length; i++) {\r\n      input = elements[i]\r\n      parent = input.parentNode\r\n      parentClass = parent.getAttribute('class')\r\n\r\n      if (parentClass && parentClass.indexOf('numberInputMask__wrap') > -1) {\r\n        this._unwrap(parent)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create the number masking input wrapper\r\n   *\r\n   * @param {HTMLInputElement} actualInput the input element\r\n   * @param {Boolean} isWrapped when true the input is already wrapped and we need to add what is\r\n   *                            missing only\r\n   *\r\n   * @returns {HTMLSpanElement} wrapper instance\r\n   *\r\n   * @protected\r\n   */\r\n  _wrap(actualInput, isWrapped) {\r\n    const actualInputId = actualInput.getAttribute('id'),\r\n      actualInputName = actualInput.getAttribute('name'),\r\n      actualInputStep = actualInput.dataset.step || null,\r\n      actualInputMax = actualInput.dataset.max || null,\r\n      actualInputMin = actualInput.dataset.min || null,\r\n      actualInputGroupingSeparator =\r\n        actualInput.dataset.groupingSeparator || ',',\r\n      actualInputDecimalSeparator = actualInput.dataset.decimalSeparator || '.',\r\n      actualInputForceTrailingZeros =\r\n        actualInput.dataset.forceTrailingZeros || null,\r\n      actualInputMask = actualInput.dataset.mask || '',\r\n      actualInputClasses = actualInput.getAttribute('class'),\r\n      actualInputRequired = actualInput.getAttribute('required') || null\r\n\r\n    let wrap = null,\r\n      unmaskedInput = null\r\n\r\n    if (!isWrapped) {\r\n      wrap = this.options.doc.createElement('span')\r\n      unmaskedInput = this.options.doc.createElement('input') // hidden input with the unmasked values for forms\r\n    } else {\r\n      wrap = actualInput.parentNode\r\n      unmaskedInput = wrap.querySelector('.numberInputMask__unmaskedInput')\r\n    }\r\n\r\n    // configure the actual input\r\n    // -----------------------------------------------------\r\n    if (!isWrapped) {\r\n      actualInput.parentNode.insertBefore(wrap, actualInput) // move the input outside the wrapper\r\n      if (\r\n        !(\r\n          actualInput.hasAttribute('readonly') ||\r\n          actualInput.hasAttribute('disabled')\r\n        )\r\n      ) {\r\n        actualInput.addEventListener('click', this._actualInputHandler)\r\n        actualInput.addEventListener('focusin', this._actualInputHandler)\r\n      }\r\n    }\r\n\r\n    actualInput.dataset.valueUnmasked = actualInput.value || 0\r\n    actualInput.dataset.groupingSeparator = actualInputGroupingSeparator\r\n    actualInput.dataset.decimalSeparator = actualInputDecimalSeparator\r\n    actualInput.dataset.forceTrailingZeros = actualInputForceTrailingZeros\r\n    actualInput.value = NumberMask.mask(\r\n      actualInput.dataset.valueUnmasked,\r\n      actualInputMask,\r\n      actualInputGroupingSeparator,\r\n      actualInputDecimalSeparator,\r\n      actualInputForceTrailingZeros\r\n    ).trim()\r\n    actualInput.classList.add(\r\n      'numberInputMask__textInput',\r\n      this.options.cssClassSuccess\r\n    )\r\n\r\n    // configure the unmasked input\r\n    // ----------------------------------------------------\r\n    unmaskedInput.value = actualInput.dataset.valueUnmasked\r\n    unmaskedInput.setAttribute('aria-hidden', 'true')\r\n    unmaskedInput.setAttribute('type', 'hidden')\r\n    unmaskedInput.setAttribute('class', actualInputClasses)\r\n    if (actualInputId)\r\n      unmaskedInput.setAttribute('id', `${actualInputId}-unmasked`)\r\n    if (actualInputName)\r\n      unmaskedInput.setAttribute('name', `${actualInputName}-unmasked`)\r\n    if (actualInputRequired) unmaskedInput.setAttribute('required', 'required')\r\n\r\n    if (actualInputStep) unmaskedInput.setAttribute('step', actualInputStep)\r\n    else {\r\n      const decimals = countDecimals(unmaskedInput.value)\r\n      let step = '1'\r\n      if (decimals > 0) {\r\n        step = `.${Array(decimals).join('0')}1`\r\n      }\r\n\r\n      unmaskedInput.setAttribute('step', step)\r\n    }\r\n\r\n    if (actualInputMin) unmaskedInput.setAttribute('min', actualInputMin)\r\n    if (actualInputMax) unmaskedInput.setAttribute('max', actualInputMax)\r\n    unmaskedInput.dataset.inputId = actualInputId\r\n    unmaskedInput.dataset.mask = actualInputMask\r\n    unmaskedInput.dataset.groupingSeparator = actualInputGroupingSeparator\r\n    unmaskedInput.dataset.decimalSeparator = actualInputDecimalSeparator\r\n    if (actualInputForceTrailingZeros)\r\n      unmaskedInput.dataset.forceTrailingZeros = actualInputForceTrailingZeros\r\n\r\n    if (!isWrapped) {\r\n      unmaskedInput.classList.add('numberInputMask__unmaskedInput')\r\n      unmaskedInput.addEventListener('keydown', this._unmaskedInputHandler)\r\n      unmaskedInput.addEventListener('keyup', this._unmaskedInputHandler)\r\n      unmaskedInput.addEventListener('focusout', this._unmaskedInputHandler)\r\n\r\n      // configure the wrapper\r\n      wrap.setAttribute('class', 'numberInputMask__wrap')\r\n      wrap.appendChild(unmaskedInput)\r\n      wrap.appendChild(actualInput)\r\n    }\r\n\r\n    if (!isNaN(Number(actualInput.dataset.valueUnmasked))) {\r\n      if (this._validateInput(unmaskedInput, actualInput)) {\r\n        this.__fireOnUpdate(\r\n          actualInput.value,\r\n          actualInput.dataset.valueUnmasked,\r\n          actualInput\r\n        )\r\n      }\r\n    } else {\r\n      actualInput.classList.add(this.options.cssClassError)\r\n    }\r\n\r\n    return wrap\r\n  }\r\n\r\n  /**\r\n   * Unwrap the masked input and remove the value changed listener\r\n   *\r\n   * @param {HTMLSpanElement} textInput the wrapper span instance\r\n   *\r\n   * @protected\r\n   */\r\n  _unwrap(textInput) {\r\n    textInput.removeChild(\r\n      textInput.querySelector('.numberInputMask__unmaskedInput')\r\n    )\r\n\r\n    const input = textInput.querySelector('.numberInputMask__textInput')\r\n    input.removeEventListener('click', this._actualInputHandler)\r\n    input.removeEventListener('focusin', this._actualInputHandler)\r\n    input.classList.remove('numberInputMask__textInput')\r\n    input.classList.remove(this.options.cssClassError)\r\n    input.classList.remove(this.options.cssClassSuccess)\r\n    delete input.dataset.valueUnmasked\r\n\r\n    textInput.parentNode.insertBefore(input, textInput)\r\n    textInput.parentNode.removeChild(textInput)\r\n  }\r\n\r\n  /**\r\n   * Listen to click and focusin event on the actual input and toggle the number input\r\n   *\r\n   * @param {Event} e\r\n   *\r\n   * @protected\r\n   */\r\n  _actualInputHandler(e) {\r\n    const actualInput = e.target,\r\n      actualInputId = actualInput.id,\r\n      unmaskedInput = this.options.doc.querySelector(\r\n        `#${actualInputId}-unmasked`\r\n      )\r\n\r\n    actualInput.setAttribute('aria-hidden', 'true')\r\n    actualInput.setAttribute('type', 'hidden')\r\n\r\n    unmaskedInput.removeAttribute('aria-hidden')\r\n    unmaskedInput.setAttribute('type', 'number')\r\n    this._validateInput(unmaskedInput, actualInput)\r\n    setTimeout(() => {\r\n      unmaskedInput.focus()\r\n      const length = String(unmaskedInput.value).length\r\n      unmaskedInput.type = 'text'\r\n      unmaskedInput.setSelectionRange(length, length)\r\n      unmaskedInput.type = 'number'\r\n    }, 0)\r\n  }\r\n\r\n  /**\r\n   * Listen to the unmasked input keydown and focusout events and check\r\n   * if the input value can be masked or not\r\n   *\r\n   * @param {Event} e\r\n   *\r\n   * @protected\r\n   */\r\n  _unmaskedInputHandler(e) {\r\n    const unmaskedInput = e.target,\r\n      type = e.type,\r\n      keyCode = e.keyCode,\r\n      mask = unmaskedInput.dataset.mask,\r\n      groupingSeparator = unmaskedInput.dataset.groupingSeparator,\r\n      decimalSeparator = unmaskedInput.dataset.decimalSeparator,\r\n      forceTrailingZeros = unmaskedInput.dataset.forceTrailingZeros,\r\n      actualInputId = unmaskedInput.dataset.inputId,\r\n      actualInput = this.options.doc.querySelector(`#${actualInputId}`)\r\n\r\n    let restore = false,\r\n      apply = false,\r\n      maskedValue = false,\r\n      isValid = this._validateInput(unmaskedInput, actualInput)\r\n\r\n    try {\r\n      maskedValue = NumberMask.mask(\r\n        unmaskedInput.value || 0,\r\n        mask,\r\n        groupingSeparator,\r\n        decimalSeparator,\r\n        forceTrailingZeros,\r\n        false\r\n      ).trim()\r\n    } catch (e) {\r\n      maskedValue = false\r\n      this.__applyCssClassState(unmaskedInput, actualInput, 'error')\r\n      this.__fireOnInvalid(e, actualInput)\r\n    }\r\n\r\n    restore = [13, 27].indexOf(keyCode) > -1 || e.type === 'focusout'\r\n    apply = maskedValue && isValid\r\n\r\n    if (restore) {\r\n      unmaskedInput.classList.remove(this.options.cssClassError)\r\n      unmaskedInput.classList.remove(this.options.cssClassSuccess)\r\n\r\n      unmaskedInput.setAttribute('aria-hidden', 'true')\r\n      unmaskedInput.setAttribute('type', 'hidden')\r\n\r\n      actualInput.removeAttribute('aria-hidden')\r\n      actualInput.setAttribute('type', 'text')\r\n\r\n      actualInput.classList.add(this.options.cssClassSuccess)\r\n\r\n      if (apply) {\r\n        actualInput.value = maskedValue\r\n        actualInput.dataset.valueUnmasked = unmaskedInput.value\r\n        this.__fireOnUpdate(maskedValue, unmaskedInput.value, actualInput)\r\n      } else {\r\n        unmaskedInput.value = actualInput.dataset.valueUnmasked\r\n        this.__applyCssClassState(unmaskedInput, actualInput, 'success')\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Trigger `checkValidity` on the input\r\n   *\r\n   * @param {HTMLInputElement} unmaskedInput\r\n   * @param {HTMLInputElement} actualInput\r\n   *\r\n   * @returns {Boolean} true when valid , false otherwise\r\n   *\r\n   * @protected\r\n   */\r\n  _validateInput(unmaskedInput, actualInput) {\r\n    let isValid = true\r\n    const value = Number(unmaskedInput.value)\r\n    if (unmaskedInput.getAttribute('type') === 'hidden' && !isNaN(value)) {\r\n      const max = unmaskedInput.getAttribute('max')\r\n      const min = unmaskedInput.getAttribute('min')\r\n      const step = unmaskedInput.getAttribute('step')\r\n\r\n      if (min) isValid = isValid && value >= Number(min)\r\n      if (max) isValid = isValid && value <= Number(max)\r\n\r\n      if (step)\r\n        isValid =\r\n          isValid && countDecimals(step) === countDecimals(unmaskedInput.value)\r\n    } else isValid = unmaskedInput.checkValidity()\r\n\r\n    if (isValid) {\r\n      this.__applyCssClassState(unmaskedInput, actualInput, 'success')\r\n    } else {\r\n      this.__applyCssClassState(unmaskedInput, actualInput, 'error')\r\n      this.__fireOnInvalid(\r\n        unmaskedInput.validationMessage || 'Validity check fails',\r\n        actualInput\r\n      )\r\n    }\r\n\r\n    return isValid\r\n  }\r\n\r\n  /**\r\n   * @param {String} valueMasked  masked value\r\n   * @param {Number} valueUnmasked  original value\r\n   * @param {HTMLInputElement} input the actual input instance\r\n   *\r\n   * @private\r\n   */\r\n  __fireOnUpdate(valueMasked, valueUnmasked, input) {\r\n    if (this.options.onUpdate) {\r\n      this.options.onUpdate(valueMasked, valueUnmasked, input)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {String|Object} error last occurred error. could be mask error or validation error\r\n   * @param {HTMLInputElement} input the actual input instance\r\n   *\r\n   * @private\r\n   */\r\n  __fireOnInvalid(error, input) {\r\n    if (this.options.onInvalid) {\r\n      this.options.onInvalid(error, input)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  __applyCssClassState(unmaskedInput, actualInput, state) {\r\n    if (\r\n      actualInput.hasAttribute('readonly') ||\r\n      actualInput.hasAttribute('disabled')\r\n    ) {\r\n      actualInput.classList.remove(this.options.cssClassError)\r\n      actualInput.classList.remove(this.options.cssClassSuccess)\r\n\r\n      unmaskedInput.classList.remove(this.options.cssClassError)\r\n      unmaskedInput.classList.remove(this.options.cssClassSuccess)\r\n    } else {\r\n      if (state === 'success') {\r\n        actualInput.classList.remove(this.options.cssClassError)\r\n        actualInput.classList.add(this.options.cssClassSuccess)\r\n\r\n        unmaskedInput.classList.remove(this.options.cssClassError)\r\n        unmaskedInput.classList.add(this.options.cssClassSuccess)\r\n      }\r\n\r\n      if (state === 'error') {\r\n        actualInput.classList.add(this.options.cssClassError)\r\n        actualInput.classList.remove(this.options.cssClassSuccess)\r\n\r\n        unmaskedInput.classList.add(this.options.cssClassError)\r\n        unmaskedInput.classList.remove(this.options.cssClassSuccess)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default NumberInput\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/NumberInput/NumberInput.js","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"bbj-masks/src/NumberMask\",\"commonjs2\":\"bbj-masks/src/NumberMask\",\"amd\":\"bbj-masks/src/NumberMask\",\"root\":[\"BBj\",\"Masks\",\"NumberMask\"]}\n// module id = 7\n// module chunks = 0 1"],"sourceRoot":""}